# ============================================
# MoviePlatform Environment Variables
# Copy this file to .env and update values
# ============================================

# ----------------
# App Configuration
# ----------------
NODE_ENV=development
APP_NAME=MoviePlatform
APP_URL=http://localhost:3000
API_URL=http://localhost:4000

# ----------------
# Database (PostgreSQL)
# ----------------
POSTGRES_USER=movieplatform
POSTGRES_PASSWORD=movieplatform_dev
POSTGRES_DB=movieplatform
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}?schema=public

# ----------------
# Redis
# ----------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}

# ----------------
# JWT Authentication
# ----------------
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_ACCESS_EXPIRATION=15m
JWT_REFRESH_EXPIRATION=7d

# ----------------
# MinIO (S3-compatible Storage) - Local Development
# ----------------
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin123
MINIO_ENDPOINT=http://localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin123
MINIO_BUCKET_VIDEOS=videos
MINIO_BUCKET_THUMBNAILS=thumbnails
MINIO_BUCKET_DOCUMENTS=documents
MINIO_BUCKET_AVATARS=avatars

# MinIO public endpoint (for generating public video URLs)
MINIO_PUBLIC_ENDPOINT=http://localhost:9000
# Video processing concurrency (number of simultaneous transcoding jobs)
VIDEO_PROCESSING_CONCURRENCY=1

# ----------------
# EdgeCenter CDN (Production Video Hosting - Russia)
# ----------------
# EdgeCenter is recommended for Russia-based projects
# Documentation: https://edgecenter.ru/docs/streaming
EDGECENTER_API_KEY=your-edgecenter-api-key
EDGECENTER_CDN_HOSTNAME=your-cdn-hostname.edgecenter.ru
EDGECENTER_API_BASE_URL=https://api.edgecenter.ru/streaming
# Webhook secret for verifying encoding completion webhooks
EDGECENTER_WEBHOOK_SECRET=your-webhook-secret
# CDN secret for signed URL generation (Gcore Secure Token)
EDGECENTER_CDN_SECRET=your-cdn-secret-key

# ----------------
# Bunny CDN (Alternative - International)
# ----------------
# Bunny CDN may be used for international deployments
# Uncomment if using Bunny instead of EdgeCenter
# BUNNY_API_KEY=your-bunny-api-key
# BUNNY_STREAM_LIBRARY_ID=your-library-id
# BUNNY_STREAM_API_KEY=your-stream-api-key
# BUNNY_CDN_HOSTNAME=your-cdn-hostname.b-cdn.net
# BUNNY_STORAGE_ZONE=your-storage-zone
# BUNNY_STORAGE_API_KEY=your-storage-api-key
# BUNNY_TOKEN_AUTH_KEY=your-token-auth-key
# BUNNY_WEBHOOK_SECRET=your-webhook-secret

# ----------------
# Email (SMTP)
# ----------------
# Development: Use Mailhog (localhost:1025)
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_SECURE=false
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_NAME=MoviePlatform
SMTP_FROM_EMAIL=noreply@movieplatform.local

# Production: Use real SMTP service
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_SECURE=true
# SMTP_USER=your-smtp-user
# SMTP_PASSWORD=your-smtp-password

# ----------------
# Payment Providers (Russia)
# ----------------
# YooKassa
YOOKASSA_SHOP_ID=your-shop-id
YOOKASSA_SECRET_KEY=your-secret-key
YOOKASSA_WEBHOOK_SECRET=your-webhook-secret
YOOKASSA_RETURN_URL=${APP_URL}/payment/success
YOOKASSA_CANCEL_URL=${APP_URL}/payment/cancel

# SBP (Faster Payments System)
# Configuration depends on your bank/provider
SBP_MERCHANT_ID=your-merchant-id
SBP_API_KEY=your-api-key

# ----------------
# Security
# ----------------
BCRYPT_ROUNDS=12
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
CORS_ORIGINS=http://localhost:3000,http://localhost:4000

# ----------------
# Logging & Monitoring
# ----------------
LOG_LEVEL=debug

# Sentry (Error Tracking)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# ----------------
# Admin Tools (Optional, for docker-compose profiles)
# ----------------
PGADMIN_EMAIL=admin@movieplatform.local
PGADMIN_PASSWORD=admin123

# ----------------
# Feature Flags
# ----------------
ENABLE_REGISTRATION=true
ENABLE_PARTNER_PROGRAM=true
ENABLE_STORE=true
ENABLE_BONUSES=true

# ----------------
# Age Verification
# ----------------
# Third-party verification service (if used)
AGE_VERIFICATION_PROVIDER=manual
AGE_VERIFICATION_API_KEY=

# ----------------
# Content Delivery
# ----------------
CDN_URL=http://localhost:9000
SIGNED_URL_EXPIRY_HOURS=4
